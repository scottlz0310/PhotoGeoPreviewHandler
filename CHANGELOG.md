# 変更履歴

このプロジェクトの主な変更点をここに記録します。

## [1.5.0] - 未リリース

### 追加
- 戻る/進むボタンのナビゲーション履歴を追加。

### 修正
- 戻る/進む操作の失敗時に履歴を復元し、状態が壊れないように改善。

## [1.4.0] - 2026-01-06

### 追加
- 画像ファイルの関連付け（.jpg/.jpeg/.png/.heic）とファイル起動対応を追加。
- パンくずの区切り「>」クリックで子階層を開ける操作を追加。
- 地図ピンクリック時に該当写真へフォーカスする動作を追加。

### 変更
- フォルダ移動をダブルクリック操作に変更。
- プレビュー最大化時の地図エリア調整と高 DPI 画面フィットを改善。
- マップピンの位置合わせを先端基準に調整。
- サムネイル生成を高品質化。
- タスクバー背景の透明化用に unplated アイコンを追加。
- タイトルバーのアイコンをアプリ用アイコンに反映。

### 修正
- 位置情報がない写真で Null Island にピンが立つ問題を回避。

### 削除
- Store 方針に合わせて更新確認 UI を削除。

## [1.3.0] - 2026-01-02

### 追加
- 地図マーカークリック時のツールチップに EXIF 情報（撮影日時、カメラ、ファイル名、解像度）を表示。
- ツールチップから Google Maps で位置を開くリンクを追加。
- 衛星地図タイル（Esri WorldImagery）を追加し、OpenStreetMap と切り替え可能に。
- 地図タイルソース選択メニュー（Settings > Map tile source）を追加。
- タイルソースごとに独立したキャッシュディレクトリを使用。

### 変更
- 地図タイルソースの設定を永続化。
- ツールチップの多言語対応（日本語/英語）。

## [1.2.0] - 2025-12-30

### 追加
- 地図の初期倍率を設定メニューから変更できるように追加。

## [1.1.1] - 2025-12-30

### 修正
- About 表示のバージョン差分を解消するためのアセンブリ版同期。
- Release ワークフローでのバージョン整合チェックを強化。

## [1.1.0] - 2025-12-30

### 追加
- GitHub Release を参照したアップデート通知（自動/手動チェック）。
- MSI インストーラーの自動生成とリリースワークフロー整備。
- ユニット/結合/E2E テストの追加と CI 組み込み。

### 変更
- ローカル実行をアンパッケージ既定に変更（`WindowsPackageType=None`）。
- リリースチェックリストとバージョン整合チェックの強化。

## [1.0.0] - 2025-12-30

### 追加
- ファイルブラウザ（フォルダ選択、検索/画像フィルタ、パンくず、表示切替）。
- ファイル操作（新規フォルダ/移動/リネーム/削除、ドラッグ&ドロップ）。
- EXIF/GPS 抽出、複数選択の地図マーカー表示と自動フィット。
- 画像プレビュー（ズーム/パン/最大化、前後ナビ）。
- Mapsui による地図表示とオフラインタイルキャッシュ。
- ステータスバー/通知、起動スプラッシュ画面。
- 設定の永続化、言語/テーマ切替、設定のエクスポート/インポート。
- `%LocalAppData%\\PhotoGeoExplorer\\Logs\\app.log` へのアプリログ出力。

### 変更
- 地図表示を WebView2/Leaflet から Mapsui に移行。
- 解析の厳格化とフォーマットチェックを CI とフックに導入。
- 主要依存関係の更新（Windows App SDK、MetadataExtractor、Mapsui）。

### 修正
- WebView2 初期化失敗時のフォールバック表示を追加。
- `AppWindow` を安全に扱うようにウィンドウサイズ計算を修正。

### 削除
- WebView2 向けの旧タイルキャッシュ資産を整理。
